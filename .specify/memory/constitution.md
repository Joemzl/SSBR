<!--
================================================================================
SYNC IMPACT REPORT
================================================================================
Version Change: 0.0.0 → 1.0.0 (Initial)
Bump Rationale: Initial constitution adoption for SSBR Functionalization Knowledge Base project

Modified Principles: N/A (Initial adoption)
Added Sections:
  - 8 Core Principles (I-VIII)
  - Data Quality Standards
  - Recommendation System Rules
  - Governance Rules

Removed Sections: N/A (Initial adoption)

Templates Requiring Updates:
  - .specify/templates/plan-template.md       ✅ No update needed (generic)
  - .specify/templates/spec-template.md       ✅ No update needed (generic)
  - .specify/templates/tasks-template.md      ✅ No update needed (generic)

Follow-up TODOs: None
================================================================================
-->

# SSBR官能化知识库与智能推荐系统 Constitution

## Core Principles

### I. 真实性第一 (Authenticity First)

所有数据、解读、结论 **必须 100% 源自学术文献**，执行以下铁则：

- **零编造**：禁止生成任何无文献支撑的数值、结论或推断
- **零估算**：禁止对未标注数据进行肉眼估算或数学外推
- **零幻觉**：禁止输出任何超出文献原文的性能预测、机理推断
- **可追溯**：每项数据必须标注来源（文献DOI、Table/Figure编号、页码）

**执行标准**：若无法从文献正文、表格、图片标注中直接获取信息，该字段必须填写「-」或明确标注「文献未提供」，绝不允许填充推测值。

### II. 全流程自动化 (End-to-End Automation)

实现参数读取 → 文献匹配 → 图片定位 → 解读输出 → 数据入库全闭环：

- **自动匹配**：系统必须能够根据数据.xlsx中的DOI列自动定位对应PDF文献
- **自动定位**：系统必须能够根据图注信息自动定位文献中的目标图片
- **零手动上传**：用户无需手动上传任何文件、图片、文献内容
- **文件命名规范**：PDF文件必须遵循 `DOI_第一作者_年份.pdf` 格式（DOI中的 `/` 替换为 `_`）

**执行标准**：任何需要用户手动上传文件的功能设计视为违反本原则。

### III. 格式标准化 (Format Standardization)

所有输出必须严格匹配数据集字段结构：

- **字段对应**：解读输出的每个数据项必须与Excel数据集列一一对应
- **统一格式**：同类型数据使用统一的单位、精度、表述方式
- **无非标内容**：禁止输出无法直接录入知识库的非结构化内容
- **四类解读规范**：¹H核磁谱图、TEM微相分离图片、应力-应变曲线、DSC谱图各有专属标准化解读模板

**执行标准**：输出内容必须可直接复制粘贴到Excel对应单元格，无需二次整理。

### IV. 推荐严谨可控 (Rigorous Recommendation)

推荐系统必须遵循严格的匹配与输出规则：

- **场景优先**：必须先锁定用户指定的SSBR应用场景，再在该场景下执行性能匹配
- **支撑必备**：推荐结果必须附带知识库中真实可追溯的科学支撑信息
- **无确凿不输出**：若无法提供文献支撑的实测数据，该推荐结果不得输出
- **匹配度排序**：结果必须按匹配度从高到低排序，允许用户设置偏差容忍范围

**执行标准**：推荐输出必须包含：官能化试剂名称、核心官能团、推荐官能化程度、实测性能数据、文献来源。若存在确凿的方案优劣势说明则展示，否则仅展示基础推荐结果。

### V. 数据解读全面性 (Comprehensive Data Interpretation)

图片解读必须全面提取信息以支撑推荐匹配：

- **多点提取**：应力-应变曲线必须提取多个定伸应力点（100%、200%、300%等）而非单一数值
- **区间表达**：对于无精确标注的数据，必须使用区间描述（如「Tg在-30℃至-20℃之间」）
- **显式优先**：有明确标注的数值直接引用，隐式数据采用保守区间化处理
- **完整记录**：每类表征的所有可观测信息均需记录，服务于多维度匹配需求

**执行标准**：解读技能必须按专属规范提取该类表征的全部标准字段，不得遗漏或选择性记录。

### VI. 兼容可扩展 (Compatible & Extensible)

系统必须支持知识库的持续扩充：

- **文献扩展**：支持新文献PDF的增量添加，自动纳入匹配范围
- **数据扩展**：支持数据.xlsx的行/列扩展，新增样本或新增表征类型
- **体系扩展**：预留其他改性方式（如共混、填充）的扩展接口
- **核心不变**：任何扩展不得突破真实性第一、零幻觉等核心铁则

**执行标准**：当前版本专注SSBR官能化体系，扩展时需评估对现有宪法原则的影响。

### VII. 合规使用 (Compliance & Ethics)

内容使用必须符合学术规范与法律要求：

- **学术用途**：知识库内容仅限学术研究与教育目的使用
- **版权遵循**：严格遵循文献版权许可要求，不公开传播受限内容
- **引用规范**：任何输出结果必须保留完整的文献引用信息
- **隐私保护**：不得存储或输出涉及个人隐私的信息

**执行标准**：系统不得提供绕过版权限制或违反学术伦理的功能。

### VIII. 轻量化与可维护性 (Lightweight & Maintainable)

系统架构必须保持简洁高效：

- **最小依赖**：优先选择轻量级数据库方案（如SQLite、JSON文件存储）
- **本地优先**：支持完全本地运行，降低对外部服务的依赖
- **结构清晰**：数据存储结构透明，便于人工检查与维护
- **低门槛部署**：非技术背景用户也能完成基础部署与使用

**执行标准**：在满足功能需求的前提下，优先选择最简单的技术方案。

## Data Quality Standards

### 数据来源层级

系统必须按以下优先级提取数据：

1. **Level 1 - 显式标注**：图表/曲线上直接标注的精确数值 → 直接使用
2. **Level 2 - 正文/表格**：文献正文或Table中明确给出的数值 → 直接使用并标注来源
3. **Level 3 - 区间估读**：曲线上可观测但无标注的特征 → 必须用区间表达
4. **Level 4 - 不可获取**：文献未提供且无法从图表观测 → 填写「-」

### 四类表征解读要求

| 表征类型 | 核心提取项 | 禁止事项 |
|---------|-----------|---------|
| ¹H核磁谱图 | 特征峰化学位移、积分比、官能化程度计算 | 禁止编造未标注的峰归属 |
| TEM微相分离 | 相区尺寸、分布形态、分散均匀性 | 禁止估算未标尺的尺寸数值 |
| 应力-应变曲线 | 各定伸应力、拉伸强度、断裂伸长率 | 禁止估读未标注的精确数值 |
| DSC谱图 | Tg(精确值或区间)、其他热转变、工作温度窗口 | 禁止计算未给出的ΔCp |

## Recommendation System Rules

### 查询处理流程

```
用户输入 → 场景锁定 → 性能指标解析 → 知识库匹配 → 排序输出
```

### 匹配规则

1. **场景过滤**：首先筛选应用场景匹配的样本集
2. **性能匹配**：支持精确值匹配（如 `100%定伸应力=4.2MPa`）和范围匹配（如 `4.0-4.2MPa`）
3. **偏差容忍**：用户可设置匹配偏差范围（如 ±5%）
4. **多指标联合**：支持同时匹配力学性能（应力-应变）和热学性能（Tg）

### 输出规范

**必须输出项**：
- 官能化试剂名称
- 核心官能团
- 推荐官能化程度
- 实测性能数据（含单位）
- 文献来源（DOI、第一作者、年份）

**条件输出项**（有确凿支撑时展示）：
- 方案优势说明
- 方案局限性说明
- 与用户目标的偏差分析

## Governance

### 修订流程

1. **提案**：任何宪法修订必须以书面形式提出，说明修订理由
2. **评估**：评估修订对现有功能、数据、原则的影响
3. **批准**：重大修订（MAJOR）需明确记录决策依据
4. **迁移**：如修订影响现有数据结构，必须提供迁移方案

### 版本规则

- **MAJOR (X.0.0)**：核心原则删除或重新定义、不向后兼容的治理变更
- **MINOR (0.X.0)**：新增原则/章节、实质性扩展指导内容
- **PATCH (0.0.X)**：措辞澄清、错字修复、非语义性优化

### 合规检查

- 所有新功能开发前必须通过宪法原则合规检查
- 数据解读技能必须遵循对应表征类型的标准化模板
- 推荐输出必须满足「无确凿不输出」原则

### 指导文件

运行时开发指导参见：
- 解读技能模板：`skills/ssbr-dsc-interpretation/SKILL.md` 及其他表征解读 Skill
- 智能推荐技能：`skills/ssbr-recommender/SKILL.md`
- 项目说明：`other/ssbr项目.txt`

**Version**: 1.0.0 | **Ratified**: 2026-02-28 | **Last Amended**: 2026-02-28
